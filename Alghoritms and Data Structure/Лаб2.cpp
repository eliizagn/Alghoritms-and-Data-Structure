/*
?????????? ?????? ?????. ??? ?????? ???????? ??????? ???????? ???????? ?? ?????????.

?? ???? ????????? ???????? ??????, ?????????? ???????. ?????? ?????? ???????? ???? ???????. ??????? ?????? ???? ?????:

+ x – ???????? ? ???? ?????
-  ?????? ??????? ?? ?????. ?????????????, ??? ?? ?????????? ?????????? ?? ??????? ?????.
?????????????, ??? ?????? ????? ? ???????? ?????????? ?????? ?? ???????? ?????????.

??????? ??????

? ?????? ?????? ???????? ????? ?????????? ?????????? ??????.  ?????? ??????????? ?????? ????????? ????? ???????? 
????? ???? ???????.

???????? ??????

???????? ?????, ??????? ????????? ?? ?????, ?? ?????? ? ?????? ??????.
?????????? ???????? ???? ???? ?? ??????? ??????.
*/


#include <iostream>

using namespace std;

struct Node
{
    int data;
    Node* next;
};

Node* top = NULL;

bool isempty() {
    if (top == NULL) {
        return true;
    }
    else {
        return false;
    }
}
void push(int value) {
    Node* temp = new Node();
    temp->data = value;
    temp->next = top;
    top = temp;
}

int pop(Node*& top) {
    if (isempty()) {
        exit(1);
    }
    else {
        int value = top->data;
        Node* temp = top;
        top = top->next;
        delete(temp);
        return value;

    }
}

int main() {
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);

    unsigned int n;
    cin >> n;


    for (int i = 0; i < n; ++i) {
        char command;
        cin >> command;

        if (command == '+') {
            int data;
            cin >> data;
            push(data);
        }
        else if (command == '-') {
            int a = pop(top);
            cout << a << '\n';
        }
    }

    return 0;
}

/*
?????????? ?????? ???????. ??? ?????? ???????? ??????? ???????? ???????? ?? ?????????.

?? ???? ????????? ???????? ??????, ?????????? ???????. ?????? ?????? ???????? ???? ???????. ??????? ?????? ???? ?????:

+ x – ???????? ? ??????? ????? x (?10^9<x<10 ^9 ).
– ?????? ??????? ?? ???????. ?????????????, ??? ?? ?????????? ?????????? ?? ?????? ???????.
?????????????, ??? ?????? ??????? ? ???????? ?????????? ?????? ?? ???????? 10^6 ?????????.

??????? ??????

? ?????? ?????? ?????????? ?????????? ?????? n (1?n?10^6). ?????? ??????????? ?????? ????????? ????? 
???????? ????? ???? ???????.

???????? ??????

???????? ?????, ??????? ????????? ?? ???????, ?? ?????? ? ?????? ??????.

?????????? ???????? ???? ??????? ?? ??????? ??????.
*/

#include <iostream>

using namespace std;

using namespace std;
struct Node {
    int data;
    Node* next;
};
Node* front = NULL;
Node* rear = NULL;

bool isEmpty() {
    return front == NULL;
}

void enqueue(int data) {
    Node* newNode = new Node;
    newNode->data = data;
    newNode->next = NULL;
    if (isEmpty()) {
        front = rear = newNode;
    }
    else {
        rear->next = newNode;
        rear = newNode;
    }
}

int dequeue() {
    if (isEmpty()) {
        return 0; // ?????? ???????, ?????????? ?????-?? ??????????? ????????
    }
    int data = front->data;
    Node* temp = front;
    front = front->next;
    delete temp;
    return data;
}

int main() {
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);
    int n;
    cin >> n;

    for (int i = 0; i < n; i++) {
        char com;
        cin >> com;

        if (com == '+') {
            int data;
            cin >> data;
            enqueue(data);
        }
        else if (com == '-') {
            int result = dequeue();
            if (result != -1) {
                cout << result << '\n';
            }
        }
    }

    return 0;
}

/*
???? ????? ?????? ??????????? ?? ?????? ??????? ???????? ? ?????????? ????????. ? ????? ???? ????? ????? ????????? ??????. ? ?????????, ? ???? ?????????? ??????? ????????? ??? ????????? ?????????, ??? ??? ??????? ?? ????? M ??????????????.

??? ??? ?????? ?????????, ?? ????????? ???????? ????? ?????? ????????? ?? ?? ??????. ??????? ??????? ???? ????????? 
?????? ?? ??? ???, ???? ?? ????????? ?????????? ?????, ????????? ????????? ???? ?? ?????.

????? ?????????? ???????, ??? ??????? ????????? ? ????? ? ??? ? ?????? ?? ???? ??? ????? ???????, ??? ??? ?????? 
??????? ? ??????? ?????.

??????? ??????

?????? ?????? ???????? ????? N - ?????????? ????????? ???????? (1 <= N <=10^5) ? ????? M - ??????? ???????? ? ???? 
??????? ?????? (1 <= M <= 10^5). ????????? ?????? - N ????? (?? ??????????? 10^9), ??????????? ????????, ???????????? 
???? ????????

???????? ??????

????????, ??? ????? ????????? ? ??????? ? ????? ??????.
*/

#include <iostream>
using namespace std;

class Deque {
public:
    Deque();
    ~Deque();

    void add(int data);
    int pop_front();
    int pop_back();

private:

    class Node
    {
    public:
        int data;
        Node* Next;
        Node* Prev;

        Node(int data = int(), Node* Next = nullptr, Node* Prev = nullptr)
        {
            this->data = data;
            this->Next = Next;
            this->Prev = Prev;
        }
    };
    int size;
    Node* head;
    Node* tail;



};

Deque::Deque()
{
    size = 0;
    head = nullptr;
    tail = nullptr;
}

Deque::~Deque()
{
}

void Deque::add(int data)
{
    Node* temp = new Node();
    temp->data = data;

    if (head != nullptr)
    {
        temp->Prev = tail;
        tail->Next = temp;
        tail = temp;
    }
    else {
        head = tail = temp;
    }
    size++;
}


int Deque::pop_front()
{
    if (size == 0) {
        return -1;
    }
    else if (size == 1) {
        Node* temp = head;
        int delItem = temp->data;
        head->Next = nullptr;
        head = nullptr;
        delete temp;
        size = 0;
        return delItem;
    }
    else {
        Node* temp = head;
        int delItem = temp->data;
        head = head->Next;
        head->Prev = nullptr;
        delete temp;
        size--;
        return delItem;
    }

}

int Deque::pop_back()
{

    if (size == 0) {
        return -1;
    }
    else if (size == 1) {
        Node* temp = tail;
        int delItem = temp->data;
        tail->Prev = nullptr;
        tail = nullptr;
        head = nullptr;
        delete temp;
        size--;
        return delItem;
    }
    else {

        Node* temp = tail;
        int delItem = temp->data;
        tail = tail->Prev;
        tail->Next = nullptr;
        delete temp;
        size--;
        return delItem;
    }

}


int main()
{

    int n, s, m;
    cin >> n;
    cin >> s;
    Deque DQ;
    int count = 0;
    if (s > n) s = n;
    for (int i = 0; i < s; i++)
    {
        cin >> m;
        DQ.add(m);
    }
    for (int i = s; i < n; i++)
    {
        cin >> m;
        int last = DQ.pop_back();
        int first = DQ.pop_front();
        int FMax;
        int LMax;
        if (last >= first) {
            LMax = last;
            FMax = first;
        }
        else {
            LMax = first;
            FMax = last;
        }
        if (m >= FMax) {
            FMax = m;
        }
        if (FMax >= LMax && s > 1) {
            DQ.add(LMax);
            DQ.add(FMax);

        }
        else if (FMax < LMax && s > 1) {
            DQ.add(FMax);
            DQ.add(LMax);
        }
        else if (s = 1 && FMax >= LMax) {
            DQ.add(LMax);
        }
        else if (s = 1 && FMax < LMax) {
            DQ.add(FMax);
        }
    }

    for (int i = 0; i < s; i++) {
        cout << DQ.pop_front() << " ";
    }
}

/*
???? ???????? ??????? ????, ?, ????? ???????? ???? ??????, ?? ?? ?????? ??????? ????? ????????, ?? ? ????????? 
?????? ??????. ??????? ???? ???????? ?????? ????????? ????????? ??? ?????????? ????????? ?????.

?????? ?????? ????? ?? ????? ???? ?????????, ???????????? ??????. ??? ?????? ????? - ??? ??????? ??????. ? ????????? 
? ?????? ??? ???????? ????????? ?????? ????? ???.

???? ?????? ?????? ?????? ?????? ??? ?? ??? ??????? ????????? ????????? ???? ??????. ???? ????? ?????????? ??????? 
?????????? ? ?????????, ?? ?? ??????? ??? ????? ??????, ??? ??? ????? ?????? ?????? ?????? ? ???????? ??????? ??????. 
????? ?? ? ??????????? ???? ?????, ????? ??????? ?????? ???????????? ???????? ???. ???? ?????? ??? ????????? "????????" 
?????????, ?? ???? ??? ??????? ??? ?????????? ????? ????, ??????? ???????? ???????? ?? ????? ??????? ??????, ??? ? 
??????? ????.

??????? ??????

? ?????? ?????? ???? ????? n (1 < n < 10^6) ???? ?????????. ? ????????? ?????? ???? n ????? - i-? ????? ?????????? 
????????? ?????? ? i-? ???? (1 < a_i < 10^6 ).

???????? ??????

???????? ? ???? ?????? n ?????. i-? ????? - ?????????? ????, ??????? ???????? ???????? ?? ????? ??????? ??????, 
??? ? i-? ????. ???? ????? ??????? ?????? ?? ????????, ???????? -1 ??? ????? ???.
*/

#include <iostream>

using namespace std;

struct Node
{
    int data;
    Node* next;
};

Node* top = NULL;


bool isempty() {
    if (top == NULL) {
        return true;
    }
    else {
        return false;
    }
}
void push(int value) {
    Node* temp = new Node();
    temp->data = value;
    temp->next = top;
    top = temp;

}

int pop(Node*& top) {
    if (isempty()) {
        exit(1);
    }
    else {
        int value = top->data;
        Node* temp = top;
        top = top->next;
        delete(temp);
        return value;

    }
}


int main() {
    int n;
    cin >> n;
    int* difTask = new int[n];
    int* waitDays = new int[n];

    for (int i = 0; i < n; i++) {
        cin >> difTask[i];
        waitDays[i] = -1;
        while (!isempty() && difTask[i] > difTask[top->data]) {
            waitDays[top->data] = i - (top->data);
            pop(top);

        }
        push(i);
    }

    for (int i = 0; i < n; i++) {
        cout << waitDays[i] << " ";
    }

    return 0;
}


/*
 ???? ????? ?? ??????????? ?????? ? ??? ????? ???? ???? ???????? ???? ?????? ???????? ?? ??????????? ? ???????? ??????.

?? ??? ????? ??????, ????? ?????? ??????? ??? ???????. ? ?????????? ????????? ?????? ??? ??????? ??????? 
??????? ??? ??????? ???????,

??????? ??????????? ????? N ??????????? ????? ?????? ?????. ???? ????? ???????, ? 3 ?? ??????? ?????? ??? 
???????? ????? ???? ???????? ???????. ??, ?.?. ????? ????? ?????? ?????, ????????? ??????? ???????????? ????? 
????????? ??????? ???????? ?????. ????? ???? ??? ????????, ?? ?????? ????? ????? ?????????????? ? ??? ????? ??????? 
???????. ????? ???????? ??????? ????, ???? ????? ???????? ????????? ?????, ? ????????? ? ????? ????????. ???????? ???? 
?????????? ???????????? ??????? ?????, ??????? ?? ????? ????????. ?????? ????? ????? ?????? 1 ????.

N <= 10^6 
a[i] <= 10^9
 

??????? ??????

1-? ?????? ???????? ????????????? ????? ????? N, ???????????? ?????????? ?????.

2-? ?????? ???????? N ????????????? ????? ????? - ????? ????? ? ?????? ? ??? ???????, ? ??????? ??? ?????????.

???????? ??????

????? ????? - ??????????? ????????? ??????? ????? ? ?????????? ??????.
*/

#include <iostream>

using namespace std;

struct Node
{
    int data;
    Node* next;
};

Node* top = NULL;

bool isempty() {
    if (top == NULL) {
        return true;
    }
    else {
        return false;
    }
}
void push(int value) {
    Node* temp = new Node();
    temp->data = value;
    temp->next = top;
    top = temp;
}

int pop(Node*& top) {
    if (isempty()) {
        exit(1);
    }
    else {
        int value = top->data;
        Node* temp = top;
        top = top->next;
        delete(temp);
        return value;

    }
}

int main() {
    int n;
    cin >> n;

    int* a = new int[n];
    for (int i = 0; i < n; ++i) {
        cin >> a[i];
    }
    long long square = 0;
    for (int i = 0; i < n; ++i) {
        while (!isempty() && a[i] < a[top->data]) {
            int j = top->data;
            pop(top);
            long long b = (isempty() ? i : ((i - top->data) - 1));
            square = max(square, a[j] * b);
        }
        push(i);
    }

    while (!isempty()) {
        int j = top->data;
        pop(top);
        long long b = (isempty() ? n : (n - (top->data) - 1));
        square = max(square, a[j] * b);
    }

    cout << square << endl;

    return 0;
}

